@model PrototypeTopCoder.Models.ComplexTestProblemModel

<script>
    $(function () {
        var id = @Model.ID
        $('[name="question' + id + '"]').click(function () {
            var selected = "";
            $("input[type='checkbox'][name='question" + id + "']:checked").each(function () {
                    selected += "," + $(this).val();
            });

            if (selected.length > 0)
                selected = selected.substring(1);

            $.ajax({
                url: "/Competition/SubmitComplexQuestion/" + id + "?answer=" + selected
            }).done(function (data) {
                if (data == "OK") {
                } else {
                }
            });
        });
    });
</script>

<div class="problem">
    <div class="display-field">
        @Html.Raw(Model.Question)
    </div>

    @for (int i = 0; i < Model.Options.Count; ++i)
    {
        <input type="checkbox" name=@("question" + Model.ID) value="@i"/>
        <label for="option">@Model.Options[i]</label>
    }

    <div>
        <a href="#" onclick="return OnClickSubmitComplex(this, @Model.ID);">Submit</a>
    </div>
</div>
